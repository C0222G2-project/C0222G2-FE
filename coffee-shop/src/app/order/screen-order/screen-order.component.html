<div class="main">
    <div class="container-fluid px-5 container-main-content">
        <div class="container">
            <div class="row mb-5 align-item-center pt-5 table-infor">
                <div class="col-4">
                    <div class="row">
                        <div class="col-5">
                            <h1 class="number-table-infor mb-2">Số bàn:</h1>
                        </div>
                        <div class="col-6">
                            <h1 class="number-table-infor mb-2" #tableCode>A-01</h1>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-5">
                            <h1 class="table-infor-date mb-2">Ngày:</h1>
                        </div>
                        <div class="col-6">
                            <h1 class="table-infor-date mb-2">{{date | date: 'dd/MM/yyyy'}}</h1>
                        </div>
                    </div>
                </div>
                <div class="col-8 btn-container service-container d-flex flex-row-reverse">
                    <div class="row show-service-on-desktop flex-row-reverse">
                        <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                            style="font-size: 20px; align-content: center" (click)="sendNotification('Gọi phục vụ', 'T-001', 'yêu cầu phục vụ')">
                            Gọi phục vụ
                        </button>
                        <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                            style="font-size: 20px; align-content: center">
                            Phản hồi
                        </button>
                        <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                            style="font-size: 20px; align-content: center" data-bs-toggle="modal" data-bs-target="#gameButton">
                            Game
                        </button>
                    </div>
                    <div class="show-service-on-mobile">
                        <button mat-menu-item class="btn btn-light buttonOrder btn-menu-option d-flex align-items-center justify-content-center mx-3"
                        style="font-size: 20px; align-content: center" (click)="openMenuService()">
                            Menu
                        </button>
                        <ul class="list-group menu-onMobile" *ngIf="hideMenu">
                            <li class="list-group-item p-3" (click)="sendNotification('Gọi phục vụ', 'T-001', 'yêu cầu phục vụ')"><p class="text-dark m-0">Gọi phục vụ</p></li>
                            <li class="list-group-item p-3"><p class="text-dark m-0">Phản hồi</p></li>
                            <li class="list-group-item p-3"><p class="text-dark m-0" data-bs-toggle="modal" data-bs-target="#gameButton">Game</p></li>
                        </ul>
                    </div>
                </div>
            </div>
<<<<<<< HEAD
=======
            <div class="col-8 btn-container service-container d-flex flex-row-reverse">
                <div class="row show-service-on-desktop flex-row-reverse">
                    <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                        style="font-size: 20px; align-content: center" (click)="sendNotification('Gọi phục vụ', 'T-001', 'yêu cầu phục vụ')">
                        Gọi phục vụ
                    </button>
                    <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                        style="font-size: 20px; align-content: center">
                        Phản hồi
                    </button>
                    <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                        style="font-size: 20px; align-content: center">
                        Game
                    </button>
                </div>
                <div class="show-service-on-mobile">
                    < mat-icon-button class="btn btn-light buttonOrder btn-menu-option d-flex align-items-center justify-content-center mx-3"
                    style="font-size: 20px; align-content: center"
                    aria-label="Example icon-buttson with menu icon" (click)="openMenuService()">
                    <button mat-menu-item class="btn btn-light buttonOrder btn-menu-option d-flex align-items-center justify-content-center mx-3"
                    style="font-size: 20px; align-content: center" (click)="openMenuService()">
                        Menu
                    </button>
                    <ul class="list-group menu-onMobile" *ngIf="hideMenu">
                        <li class="list-group-item p-3" (click)="sendNotification('Gọi phục vụ', 'T-001', 'yêu cầu phục vụ')"><p class="text-dark m-0">Gọi phục vụ</p></li>
                        <li class="list-group-item p-3"><p class="text-dark m-0">Phản hồi</p></li>
                        <li class="list-group-item p-3"><p class="text-dark m-0">Game</p></li>
                    </ul>
                </div>
            </div>
>>>>>>> dev
        </div>
        <!-- <div class="row d-flex justify-content-center" >
            <div class="notification" *ngIf="messageUnread.length != 0">
                <p>{{messageUnread.length}}</p>
            </div>
        </div> -->
        <div class="row mt-3">
            <div class="col-md-12 col-xl-12">
                <div class="container">
                    <div class="row justify-content-between">
                        <div class="my-5 col-3 text-center">
                            <h3 class="d-inline-block">Món đã chọn</h3>
                        </div>
                        <div class="my-5 col-3 text-center">
                            <h3 class="d-inline-block">Thời gian chờ</h3>
                            <p id="timerCountdown"></p>
                        </div>
                    </div>
                    <form action="" [formGroup]="formCheckBox" (ngSubmit)="deleteDish()">
                        <div class="row mb-5">
                            <table class="table table-order">
                                <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col" class="text-center" style="font-size: 19px;">STT</th>
                                    <th scope="col" class="text-center" style="font-size: 19px;">Tên món</th>
                                    <th scope="col" class="text-center" style="font-size: 19px;">Số lượng</th>
                                    <th scope="col" class="text-center" style="font-size: 19px;">Giá</th>
                                    <th scope="col" class="text-center" style="font-size: 19px;">Tổng tiền</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let item of orderMenu, index as i">
                                    <td>
                                        <input #checkboxes type="checkbox" name="choose" formArrayName="selectCheckBox" [value]="i" (change)="onCheckBoxChange($event)">
                                    </td>
                                    <td class="text-center">{{i + 1}}</td>
                                    <td class="text-center">{{item.dish.name}}</td>
                                    <td class="text-center">{{item.quantity}}</td>
                                    <td class="text-center">{{(item.dish.price | currency:'VND':'').replace(',', '.')}}đ</td>
                                    <td class="text-center">{{(item.dish.price * item.quantity | currency:'VND':'').replace(',', '.')}}đ</td>
                                    </tr>
                                <tr>
                                <tr *ngIf="orderMenu.length != 0">
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center"></td>
                                    <td class="text-center" style="font-size: 22px;">Tổng tiền:</td>
                                    <td class="text-center" style="font-size: 22px;">{{(totalMoney| currency:'VND':'').replace(',', '.')}}đ</td>
                                </tr>
                                </tbody>
                            </table>
                            <div *ngIf="orderMenu.length == 0" class="text-center"><p>Chưa có món ăn được order</p></div>
                        </div>
                        <div class="row my-5">
                            <div class="btn-container d-flex justify-content-center">
                                <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3" style="font-size: 20px; align-content: center">
                                    Xóa món
                                </button>
                                <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3" style="font-size: 20px; align-content: center"
                                (click)="createOrder()">
                                    Gọi món
                                </button>
                                <button class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3" style="font-size: 20px; align-content: center"
                                (click)="sendNotification('Gọi phục vụ', 'T-001', 'yêu cầu tính tiền')">
                                    Tính tiền
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
            <!-- Game -->
        <div class="modal fade" id="gameButton" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
            <div class="modal-dialog modal-dialog-game col-xl-12 container">
                <div class="modal-content col-xl-12">
                    <div class="modal-header border-0">
                        <h5 class="modal-title" id="exampleModalLabel2">MiniGame</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body modal-body-game p-0">
                        <iframe src="https://cdn.htmlgames.com/BubbleWheel/" frameborder="0"
                                marginheight="0"
                                marginwidth="0"
                                width="100%"
                                height="100%"
                                scrolling="auto">
                        </iframe>
                    </div>
                    <div class="modal-footer border-0"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid container-menu p-0">
        <div class="container">
            <div class="row">
                <h2 class="text-center mt-5 mb-5 order-header text-dark">Menu gọi món</h2>
                <ul class="row menu-order-list mt-5">
                    <li *ngFor="let disheType of dishTypes" class="menu-order-list-item col-3 text-center">
                        <h5 class="m-0 menu-order-list-content text-dark" (click)="getAllDish(disheType.id, presentPage)">{{disheType.name}}</h5>
                    </li>
                </ul>
                <div class="col-md-12 col-xl-12 py-2">
                    <div class="menu-container mt-2">
                        <div class="text-center" *ngIf="dishes.length==0">Hôm nay không có nhóm món này!</div>
                        <div class="row row-container">
                            <div class="my-card col-xl-3 col-md-6 p-0 p-2 col-sm-6 h-100 border-0" *ngFor="let dish of dishes">
                                <img src="{{dish.image}}" alt="" class="card-img-top">
                                <div class="my-card-body">
                                    <div class="col-4 d-flex justify-content-around align-items-center p-4 w-100">
                                        <p class="m-0 card-nameProduct text-dark">{{dish.name}}</p>
                                        <button type="button" class="btn btn-outline-secondary btn-menu-option btn-createOrder text-dark" mat-plus data-bs-toggle="modal" data-bs-target="#exampleModal"
                                        (click)="getDish(dish.id)">
                                            Chọn
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <nav class="my-3">
                            <ul class="pagination justify-content-center">
                            <li class="page-item" *ngIf="presentPage != 1"><a class="page-link text-dark" (click)="goPrevious()">&laquo;</a></li>
                            <li class="page-item" *ngFor="let page of totalPages">
                                <a class="page-link text-dark" (click)="goItem(page)">{{page}}</a>
                            </li>
                            <li class="page-item" *ngIf="presentPage < totalPages.length">
                                <a class="page-link text-dark" (click)="goNext()">&raquo;</a>
                            </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
            <!-- Modal insert drink -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
                <div class="modal-dialog">
                    <form action="">
                        <div class="modal-content" *ngIf="dish">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel1" class="text-dark">Thêm món</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="container">
                                <div class="row">
                                    <div class="col-3">
                                        <label class="text-dark">Tên món:</label>
                                    </div>
                                    <div class="col-9">
                                        <p class="text-dark">{{dish.name}}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-3">
                                        <label class="text-dark">Số lượng:</label>
                                    </div>
                                    <div class="col-9">
                                        <input type="number" placeholder="số lượng" class="form-control" #quantity id="quantity" required>
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                                    style="font-size: 20px; align-content: center" data-bs-dismiss="modal">
                                    Đóng
                                </button>
                                <button type="button" class="btn btn-light buttonOrder d-flex align-items-center justify-content-center mx-3"
                                    style="font-size: 20px; align-content: center" data-bs-dismiss="modal"
                                    (click)="addIntoMenuOrder(quantity.value, tableCode.value)">
                                    Thêm món
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div style="background-color: beige; height: 2px">
</div>

